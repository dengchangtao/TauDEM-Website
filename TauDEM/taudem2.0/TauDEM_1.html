<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.73 [en] (Windows NT 5.0; U) [Netscape]">
   <title>TauDEM Terrain Analysis Using Digital Elevation Models</title>
<!-- saved from url=(0048)http://www.tmdl.org/htmlhelp/mw_help/taumain.htm -->
<!-- saved from url=(0048)http://www.tmdl.org/htmlhelp/mw_help/taumain.htm -->
</head>
<body bgcolor="#FFFFFF">

<h3>
Terrain Analysis Using Digital Elevation Models (TauDEM)</h3>
David G. Tarboton&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
October, 2002
<br>Utah State University
<br>4110 Old Main Hill
<br>Logan, UT 84322-8200
<br>USA
<br><a href="http://www.engineering.usu.edu/dtarb/">http://www.engineering.usu.edu/dtarb/</a>
<br>email:&nbsp; <a href="mailto: dtarb@cc.usu.edu">dtarb@cc.usu.edu</a>
<p>TauDEM (Terrain Analysis Using Digital Elevation Models) is a set of
tools for the analysis of terrain using digital elevation models.&nbsp;
It incorporates programs and digital elevation model (DEM) analysis functions
developed over several years of research.&nbsp; TauDEM is currently packaged
as an extendable component (toolbar plugin) to both <a href="http://www.esri.com/">ESRI</a>
ArcGIS 8.x and&nbsp; <a href="http://www.tmdl.org/toolkit/mapwin.htm">MapWindow</a>,
a basic GIS data viewing tool developed at Utah State University.
<ul>
<li>
<a href="#copy">Distribution and Copyright</a></li>

<li>
<a href="#intall">Download and installation</a></li>

<li>
<a href="#Overview">Overview</a></li>

<li>
<a href="#interface">Interface</a></li>

<li>
<a href="#tutorial">A tutorial example to get started</a></li>

<li>
<a href="#thefunctions">The functions and what they do</a></li>

<li>
<a href="#dataformats">Data formats and file naming conventions</a></li>

<li>
<a href="#history">History and command line versions</a></li>

<li>
<a href="#acknowledgements">Acknowledgements</a></li>
</ul>

<hr>
<h4>
<a NAME="copy"></a>Distribution and Copyright</h4>
Copyright (C) 2002&nbsp; David Tarboton, Utah State University
<p>This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License version 2, 1991 as
published by the Free Software Foundation.
<p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
or FITNESS FOR A PARTICULAR PURPOSE.&nbsp; See the GNU General Public License
for more details.
<p>A copy of the full GNU General Public License is included in file <a href="gpl.htm" target="_top">gpl.html</a>.
This is also available at:
<br><a href="http://www.gnu.org/copyleft/gpl.html" TARGET="_top">http://www.gnu.org/copyleft/gpl.html</a>
<br>or from:
<br>The Free Software Foundation, Inc., 59 Temple Place - Suite 330,
<br>Boston, MA&nbsp; 02111-1307, USA.
<p>If you wish to use or incorporate this program (or parts of it) into
other software that does not meet the GNU General Public License conditions
contact the author to request permission.
<br>David G. Tarboton
<br>Utah State University
<br>4110 Old Main Hill
<br>Logan, UT 84322-4110
<br>USA
<br><a href="http://www.engineering.usu.edu/dtarb/">http://www.engineering.usu.edu/dtarb/</a>
<br>email:&nbsp; <a href="mailto:dtarb@cc.usu.edu">dtarb@cc.usu.edu</a>
<br>
<hr>
<h4>
<a NAME="intall"></a>Download and Installation</h4>
System Requirements.&nbsp; Windows 2000 or higher.&nbsp; To use the <a href="http://www.esri.com">ESRI
</a>ArcMAP
toolbar you will need ArcGIS 8.x desktop (either ArcView, ArcEditor or
ArcInfo).&nbsp; The spatial analyst extension is not required for TauDEM
to function, but is useful to work with the results.
<h4>
Downloads</h4>

<ul>
<li>
<a href="getinfo.htm">Download </a>TauDEM Setup package.</li>

<li>
Source codes <a href="TauDEMsource.zip">TauDEMsource.zip</a>. [1.1 Mb]
This only includes the source for the TauDEM plugin. Source code for MapWindow
components and ESRI ArcGIS required to run this software is not available
for me to distribute.</li>

<li>
<a href="http://www.tmdl.org/toolkit/mapwin.htm">MapWindow</a> A basic
GIS data viewing tool developed at Utah State University.</li>
</ul>

<h4>
Installation</h4>

<ul>Unzip the download file.&nbsp; Run setup.exe.To use with ArcGIS open
ArcMap.&nbsp; Click on tools/customize.&nbsp; At the Customize dialog click
on add from file ....&nbsp; Browse to c:\program files\mapwin27\plugins\agtaudem.dll
then click Open.&nbsp; Click OK to added objects.&nbsp; The entry "Terrain
Analysis using digital elevation models (TauDEM)" should appear under Toolbars.&nbsp;
Check this (if not already checked) and close the customize dialog.&nbsp;
The TauDEM toolbar should now be present in the ArcMap environment.&nbsp;
If it does not appear the first time, close and reopen ArcMap.To use with
MapWindow select the TauDEM plugin from the Plug-ins menu.</ul>

<hr>
<h4>
<a NAME="Overview"></a>Overview</h4>
TauDEM (Terrain Analysis Using Digital Elevation Models) incorporates the
Digital Elevation Model (DEM) analysis tools and functions developed by
David Tarboton over the years with support from a variety of sponsors,
whose support is gratefully acknowledged.
<p>The TauDEM plug-in currently provides the following capability:
<ul>
<li>
Pit removal by flooding to ensure hydraulic connectivity within the watershedComputation
of flow directions and slopes</li>

<li>
Contributing area using single and multiple flow direction methods</li>

<li>
Multiple methods for the delineation of channel networks including curvature-based
methods sensitive to spatially variable drainage densityObjective methods
for determination of the channel network delineation threshold based on
stream dropsStream ordering</li>

<li>
Delineation of watersheds and subwatersheds draining to each stream segment
and association between watershed and segment attributes for setting up
hydrologic models.</li>

<li>
Specialized functions for terrain analysis, including:</li>

<ul>
<li>
Wetness index</li>

<li>
Distance to streams</li>

<li>
Downslope influence function to map locations downslope that may be influenced
by activities in an area</li>

<li>
Upslope dependence function to map the locations upslope where activities
have an effect on a downslope location</li>

<li>
Decaying accumulation that evaluates upslope contribution subject to decay
or attenuation</li>

<li>
Concentration limited accumulation</li>

<li>
Transport limited accumulation</li>

<li>
Reverse accumulation</li>
</ul>
</ul>

<hr WIDTH="100%">
<h4>
<a NAME="interface"></a>Interface</h4>
The TauDEM plugin consists of the following three menus.
<br><img SRC="gridico.gif" BORDER=0 height=23 width=30> Basic Grid Analysis
<br><img SRC="netico.gif" BORDER=0 height=24 width=30> Network Analysis
<br><img SRC="specico.gif" BORDER=0 height=24 width=30>Specialized Grid
Analysis
<p>Basic Grid Analysis contains the functions that are core to most basic
Digital Elevation Model (DEM) analyses, and provide inputs to many other
functions.&nbsp; The general order in which they should be executed is
top to bottom.
<p>Network Analysis contains the functions required to delineate channel
networks and subwatersheds.&nbsp; Again the sequence is top to bottom.
<p>Specialized Grid Analysis contains more advanced functions that can
be invoked as needed.
<p>The section below on <a href="#thefunctions">the functions and what
they do</a> below describes in detail how each function works.&nbsp; Generally
each time a menu item is selected a dialog box appears showing the inputs
and outputs for a particular function.&nbsp; Once a base DEM has been selected
the file names for most inputs and outputs are populated following the
default file naming convention.&nbsp; You are free to change these, but
working with the defaults saves some typing.&nbsp; [A side effect of this,
is that if a new base DEM is selected, all file names are reset back to
their defaults.]&nbsp; Before running each function you should ensure that
all necessary input information exists, or expect an error.&nbsp; Help
on the individual files is available by clicking on the label to the left
of the field where file names can be changed.
<p>The underlying TauDEM code can work with grid digital elevation model
files in the following formats
<ul>
<li>
ESRI proprietary grid format.&nbsp; The file is a "folder" on the computer
comprising multiple parts.</li>

<li>
ASCII format.&nbsp; A file with extension .asc.</li>

<li>
Binary grid format.&nbsp; A file with extension .bgd.</li>
</ul>
Details on these formats are given <a href="#dataformats">below</a>.&nbsp;
The functionality to use ESRI proprietary grid files is only available
if ArcView 3.x or ArcGIS 8.x is installed.&nbsp; The ArcMAP toolbar uses
only the ESRI format grids (because the other formats to not display in
ArcMAP).&nbsp; The MapWindow plugin can work with any of the three formats.&nbsp;
The MapWindow Grid wizard plugin may be used to change between these formats.
<p>
<hr WIDTH="100%">
<h4>
<a NAME="tutorial"></a>A tutorial example to get started</h4>
Download and unzip the files in <a href="tutorial.zip">tutorial.zip</a>
into a convenient place for you to work.
<br>A.&nbsp; ArcMAP
<ol>
<li>
Use ArcToolbox | Import to Raster | ASCII to grid to import the file "demo.asc"
as a grid named "demo"</li>

<br><img SRC="asciitogrid.jpg" height=164 width=538 align=TEXTTOP>
<br>Use the float option for Grid type.
<br>&nbsp;
<li>
Open ArcMAP and add the TauDEM toolbar.&nbsp; [Click on tools | Customize
| Add from file and select the file c:\program files\Taudem\plugin\agtaudem.dll]<img SRC="customize.jpg" height=606 width=454></li>

<br>You should get a toolbar that looks like
<br><img SRC="toolbar.jpg" height=62 width=495>
<br>This may be docked.
<br>&nbsp;
<li>
Use Add Data&nbsp;<img SRC="adddata.gif" height=25 width=24> to load the
grid named "demo".&nbsp; [OK to the message about missing spatial reference
information.]</li>

<br>&nbsp;
<li>
From Basic Grid Analysis "Select Base DEM grid" and click OK with the Base
DEM layer as "demo".</li>

<br><img SRC="basedem.gif" height=123 width=507>
<br>This identifies this as the Base DEM and sets up default file names
for all other inputs.
<br>&nbsp;
<li>
Invoke the functions in Basic Grid Analysis in sequence from top to bottom,
starting with "Fill Pits".</li>

<br><img SRC="fillpits.gif" height=352 width=473>
<br>then "D8 flow directions"
<br><img SRC="d8.gif" height=336 width=483>
<br>and so on.&nbsp; Examine the output at each step.&nbsp; You could have
done this all at once with the function "Do All".
<br>&nbsp;
<li>
The layer named "demosrc" that results from "Full River Network Raster"
is a rasterized version of channel network to be mapped.&nbsp; This provides
a background for the positioning of outlets on the streams.&nbsp; Use ArcCatalog
to create a new point shapefile named "myoutlets".&nbsp; Add this shapefile
to ArcMap.&nbsp; It does not have any shapes in it yet.&nbsp; Use the ArcMap
editor toolbar to add a new feature (point) to this shape file where you
want the outlet of the river network to be.&nbsp;<img SRC="myoutlet.gif" height=354 width=747></li>

<br>Stop editing and save the shapefile.
<br>&nbsp;
<li>
From "Network Delineation" menu "Select outlets shapefile ..." and select
the file "myoutlets.shp".&nbsp; If you have trouble creating this you may
use the "demooutlet.shp" file provided.</li>

<br><img SRC="outletsel.gif" height=128 width=445>
<br>&nbsp;
<li>
From "Network Delineation" menu invoke functions in sequence from top to
bottom, or select "Do All Network and Watershed Delineation Steps" and
examine the output.</li>
</ol>
The section on <a href="#thefunctions">the functions and what they do</a>
below gives details on what each function does.
<p>B.&nbsp; MapWindow
<ol>
<li>
Open MapWindow and select the Plug-in TauDEM</li>

<br><img SRC="mapwin1.gif" height=288 width=688>
<br>&nbsp;
<li>
From the TauDEM Basic Grid Analysis button&nbsp;<img SRC="mapwin2.gif" height=47 width=175 align=TEXTTOP>
"Select Base DEM grid ... "</li>

<br><img SRC="mapwin3.gif" height=237 width=328 align=TEXTTOP>
<br>and open the file "demo.asc".&nbsp; [demo.bgd could also have been
used, but demo.asc allows you to use a text editor to see the grids that
are output.]
<br>&nbsp;
<li>
Invoke the functions in Basic Grid Analysis in sequence from top to bottom,
starting with "Fill Pits".</li>

<br><img SRC="fillmw.gif" height=349 width=469>
<br>then "D8 flow directions" and so on.&nbsp; Examine the output at each
step.&nbsp; You could have done this all at once with the function "Do
All".
<br>&nbsp;
<li>
The layer named "Stream Raster" from file "demosrc.asc" that results from
"Full River Network Raster" is a rasterized version of channel network
to be mapped.&nbsp; This provides a background for the positioning of outlets
on the streams.&nbsp; The procedures for defining an outlet are different
between MapWindow and the ArcGIS toolbar.</li>

<br>&nbsp;
<p>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p><u>Mapwindow.</u>
<br>From the "Network Delineation" button "Select outlets ..."
<br><img SRC="selouts.gif" height=189 width=393>
<br>Click the plus on the "Outlets" dialog to add a point
<br><img SRC="outlets.gif" height=387 width=253>
<br>Use the zoomin tool&nbsp;<img SRC="zoomin.gif" height=48 width=62 align=TEXTTOP>
to zoom in on the region with the outlet you want and click on it with
the "select tool"&nbsp;<img SRC="select.gif" height=49 width=62 align=TEXTTOP>
(pointing finger).&nbsp; A dot should appear on the display, and numerical
coordinate values in the "Outlets" dialog.
<br><img SRC="outid.gif" height=387 width=314>
<br>Close this dialog saving the outlet you selected in shapefile "myoutlets.shp".&nbsp;
If you have trouble creating this (MapWindow does sometimes have trouble
aligning the display of grids and shapefiles AAARGH!!! making clicking
on an outlet a bit hit and miss) you may use the "demooutlet.shp" file
provided in <a href="tutorial.zip">tutorial.zip</a>.
<p><u>ArcGIS</u>
<br>Open ArcCatalog.&nbsp; Right Click on the folder where you are working
and select 'New/Shapefile...'.&nbsp; Set the name 'outlet' and set the
feature class to point.&nbsp; [If desired click 'Edit...' to set the coordinate
system to the same as the DEM you are using.]&nbsp; Click OK to create
the shapefile.&nbsp; Switch back to ArcMap and add the shapefile 'outlet'.&nbsp;
It has no data yet.&nbsp; Display the editor toolbar (View/Toolbars/Editor)
and select Editor/Start Editing.&nbsp; Select the folder that contains
the shapefile 'outlet.shp', and set this as the target layer.&nbsp; Set
the Editor task to 'create new feature' and use the create new feature
button&nbsp;<img SRC="newfeat.jpg" height=23 width=28> to carefully locate
a point at the outlet of the watershed you want to work with.&nbsp; Use
the layer *src to ensure that you are locating a point on a stream path.
Select Editor/Stop Editing and Save edits.&nbsp; This is now a one point
shapefile.&nbsp; More points for multiple channel networks can be added
if desired.
<br>&nbsp;
<li>
From "Network Delineation" menu invoke functions in sequence from top to
bottom, or select "Do All Network and Watershed Delineation Steps" and
examine the output.&nbsp; If outlets are not selected, "Network Delineation"
delineates all streams in the domain, and all watersheds draining to these
streams.&nbsp; The methods and parameters for stream delineation are adjusted
on the "River Network Raster ..."&nbsp; dialog.</li>
</ol>
The section on <a href="#thefunctions">the functions and what they do</a>
below gives details on what each function does.
<br>
<hr WIDTH="100%">
<h3>
<a NAME="thefunctions"></a>The functions and what they do</h3>
Each function is described below.&nbsp; Optional inputs are shown in [],
with file name suffixes that refer to the table in the <a href="#dataformats">data
formats section below</a> given in ().&nbsp; <b>TauDEM assumes implicitly
that all grids used have the same grid cell size and extent.&nbsp;</b>
This assumption is checked in some places, but not consistently so where
data is obtained from diverse sources it needs to be converted to a consistent
grid cell size and extent (and the same projection) for use with TauDEM.
<h4>
Fill Pits</h4>
Input:
<ul>
<li>
Base Elevation grid.</li>

<li>
[Flow path grid (fdr).]</li>
</ul>
Output:
<ul>
<li>
Pit filled Elevation grid (fel).</li>

<li>
[Verified flow path grid (fdrn)]</li>
</ul>
Method:&nbsp; This identifies all pits in the DEM and raises their elevation
to the level of the lowest pour point around their edge.&nbsp; Pits are
low elevation areas in digital elevation models (DEMs) that are completely
surrounded by higher terrain.&nbsp; They are generally taken to be artifacts
that interfere with the routing of flow across DEMs, so are removed by
raising their elevation to the point where they drain off the edge of the
DEM.&nbsp; The pour point is the lowest point on the boundary of the "watershed"
draining to the pit.&nbsp; This step is not essential if you have reason
to believe that the pits in your DEM are real.&nbsp; This step can be circumvented
by copying the raw DEM source data onto the file with suffix "fel" that
is the output of "Fill Pits".&nbsp; Also if a few isolated pits are known,
but others need to be filled, the isolated pits should have "no data" elevation
values inserted at their lowest point.&nbsp; "no data" values serve to
define edges in the domain, and elevations are only raised to where flow
is off an edge, so an internal "no data" value will stop a pit from being
filled if necessary.
<p>The flow path grid to enforce drainage along existing streams is an
optional input.&nbsp; The flow directions in the flow path grid grid take
precedence over flow directions determined from the DEM and where these
are uphill, the elevations along these flow paths are lowered, rather than
upflow elevations raised.&nbsp; The verified flow path grid output when
the optional flow path grid is used has loops and ambiguities present in
the original flow path grid removed.
<p>The enforcing of flow along a flow path should be used when the stream
data source is deemed to be better than the DEM.&nbsp; The input flow path
grid uses the D8 direction encoding, i.e. 1 - East, 2 - North East, 3 -
North, 4 - North West, 5 - West, 6 - South West, 7 - South, 8 - South East.
No data values indicate off stream locations.&nbsp;&nbsp; The flow path
grid can be created by the network editor plugin in MapWindow or in ArcGIS
by burning in a stream feature dataset using the following steps.
<br>1. Convert features to raster retaining the same cell size and extent
as the target DEM. Call the resulting grid strgrd.
<br>2. Use raster calculator to subtract a large number from each elevation
value that corresponds to a stream. This results in a temporary DEM with
deep canyons along the streams. Call the resulting grid demcanyon.
<br>3. Use "Fill Pits" and "D8 flow directions" to calculate flow directions
on demcanyon. The flow directions calculated will be demcanyonp.
<br>4. Use raster calculator to evaluate demcanyonp/strgrd. This will result
in no data values off the stream raster due to a divide by 0, but will
retain flow directions calculated on the stream raster. The convention
for naming the result is to use the suffix fdr. This is the grid input
to the "Fill pits function" to enforce stream flow directions.
<h4>

<hr WIDTH="100%">D8 Flow Directions</h4>
Input:
<ul>
<li>
Pit Filled Elevation grid.</li>

<li>
[Verified flow path grid (fdrn).]</li>
</ul>
Output:
<ul>
<li>
D8 flow direction grid (p).</li>

<li>
D8 slope grid (sd8).</li>
</ul>
Method: The flow direction from each grid cell to one of its adjacent or
diagonal neighbors is calculated using steepest descent.&nbsp; The encoding
is shown
<br><img SRC="d8index.gif" height=113 width=120>, i.e. 1 - East, 2 - North
East, 3 - North, 4 - North West, 5 - West, 6 - South West, 7 - South, 8
- South East.&nbsp;&nbsp; Slope is evaluated in the direction of steepest
descent and is reported as drop/distance, i.e. tan of the angle.&nbsp;
Flow direction is reported as "no data" for any grid cell adjacent to the
edge of the DEM domain, or adjacent to a no data value in the DEM.&nbsp;
In flat areas flow directions are assigned away from higher ground and
towards lower ground using the method of <a href="#references">Garbrecht
and Martz (1997)</a>.&nbsp; The flow path grid to enforce drainage along
existing streams is an optional input, and if input, takes precedence over
elevations for the setting of flow directions.&nbsp; The D8 flow direction
algorithm may be applied to a DEM that has not had pits filled, but will
then result in no data values for flow direction and slope associated with
the lowest point of the pit.
<h4>

<hr WIDTH="100%">Dinf Flow Directions</h4>
Input:
<ul>
<li>
Pit Filled Elevation grid.</li>

<li>
[Verified flow path grid (fdrn).]</li>
</ul>
Output:
<ul>
<li>
Dinf flow direction grid (ang).</li>

<li>
Dinf slope grid (slp).</li>
</ul>
<a NAME="dinffigure"></a>Method:&nbsp; The Dinf approach assigns a flow
direction based on steepest slope on a triangular facet (Tarboton, 1997).
<table BORDER=2 CELLSPACING=2 CELLPADDING=2 >
<tr>
<td>
<center><img SRC="tardemfig.gif" height=325 width=416>
<br>Flow direction defined as steepest downward slope on planar triangular
facets on a block centered grid.</center>
</td>
</tr>
</table>
Flow direction is encoded as an angle 'ang' in radians counter-clockwise
from east as a continuous (floating point) quantity between 0 and 2 pi.
The flow direction angle is determined as the direction of the steepest
downward slope on the eight triangular facets formed in a 3 x 3 grid cell
window centered on the grid cell of interest. A block-centered representation
is used with each elevation value taken to represent the elevation of the
center of the corresponding grid cell. Eight planar triangular facets are
formed between each grid cell and its eight neighbors. Each of these has
a downslope vector which when drawn outwards from the center may be at
an angle that lies within or outside the 45<sup>o</sup> (pi/4 radian) angle
range of the facet at the center point. If the slope vector angle is within
the facet angle, it represents the steepest flow direction on that facet.
If the slope vector angle is outside a facet, the steepest flow direction
associated with that facet is taken along the steepest edge. The slope
and flow direction associated with the grid cell is taken as the magnitude
and direction of the steepest downslope vector from all eight facets. Slope
is measured as drop/distance, i.e. tan of the slope angle.&nbsp; In the
case where no slope vectors are positive (downslope), the flow direction
is set using the method of Garbrecht and Martz (1997) for the determination
of flow across flat areas. This makes flat areas drain away from high ground
and towards low ground. The flow path grid to enforce drainage along existing
streams is an optional input and if used, takes precedence over elevations
for the setting of flow directions.&nbsp; The Dinf flow direction algorithm
may be applied to a DEM that has not had pits filled, but will then result
in no data values for Dinf flow direction and slope associated with the
lowest point of the pit.
<h4>

<hr WIDTH="100%">D8 Contributing Area</h4>
Input:
<ul>
<li>
D8 Flow Direction grid (p).</li>

<li>
[Outlets Shapefile.]</li>

<li>
[Weights grid.]</li>
</ul>
Output:
<ul>
<li>
D8 Contributing Area grid (ad8).</li>
</ul>
Method:&nbsp; Contributing area counted in terms of the number of grid
cells (or summation of weights) is calculated using a recursive procedure
due to (Mark, 1988). The contribution at each grid cell is taken as one
(or from the weight grid when the optional weight grid input is used).&nbsp;
The contributing area for each grid cell is taken as its own contribution
plus the contribution from upslope neighbors that drain in to it. This
is evaluated recursively starting from points (outlets) in the outlets
shapefile, or when this is not input at each point in the grid.&nbsp; Starting
the recursive evaluation at outlet points results in only the contributing
area that drains to the designated outlets being evaluated.
<p>The contributing area programs check for edge contamination.&nbsp; This
is defined as the possibility that a contributing area value may be underestimated
due to grid cells outside of the domain not being counted.&nbsp; This occurs
when drainage is inwards from the boundaries or areas with no data values
for elevation.&nbsp; The algorithm recognizes this and reports no data
for the contributing area.&nbsp; It is common to see streaks of no data
values extending inwards from boundaries along flow paths that enter the
domain at a boundary.&nbsp; This is the desired effect and indicates that
contributing area for these grid cells is unknown due to it being dependent
on terrain outside of the domain of data available.&nbsp; Edge contamination
checking may be overridden in cases where you know this is not an issue
or want to ignore these problems, if for example the DEM has been clipped
along a watershed outline.
<h4>

<hr WIDTH="100%">Dinf Contributing Area</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
[Outlets Shapefile.]</li>

<li>
[Weights grid.]</li>
</ul>
Output:
<ul>
<li>
Dinf Contributing Area grid (sca).</li>
</ul>
Method:&nbsp; Contributing area counted in terms of the number of grid
cells (or summation of weights)&nbsp; is calculated for the multiple flow
direction Dinf approach using a recursive procedure that is an extension
of the very efficient recursive algorithm for single directions (Mark,
1988). The contribution at each grid cell is taken initially as one (or
from the weight grid when the optional weight grid input is used).&nbsp;
The contributing area of each grid cell is then taken as its own contribution
plus the contribution from upslope neighbors that have some fraction draining
to it. The flow from each cell either all drains to one neighbor, if the
angle falls along a cardinal (0, <font face="Symbol">p</font>/2, <font face="Symbol">p</font>,
3<font face="Symbol">p</font>/2) or diagonal (<font face="Symbol">p</font>/4,
3<font face="Symbol">p</font>/4, 5<font face="Symbol">p</font>/4, 7<font face="Symbol">p</font>/4)
direction, or is on an angle falling between the direct angle to two adjacent
neighbors. In the latter case the flow is proportioned between these two
neighbor pixels according to how close the flow direction angle is to the
direct angle to those pixels, as illustrated in the <a href="#dinffigure">Dinf
flow direction figure above</a>.
<p>Where no weight grid is used as input, the result is reported in terms
of specific catchment area, the upslope area per unit contour length, taken
here as the number of cells times grid cell size (cell area divided by
cell size). This assumes that grid cell size is the effective contour length,
in the definition of specific catchment area and does not distinguish any
difference in contour length dependent upon the flow direction. Where a
weight grid is used the result is reported directly as a summation of weights,
without any scaling.
<p>Contributing area is evaluated recursively starting from points (outlets)
in the outlets shapefile, or when this is not input at each point in the
grid.&nbsp; Starting the recursive evaluation at outlet points results
in only the contributing area that drains to the designated outlets being
evaluated.
<p>The contributing area programs check for edge contamination.&nbsp; This
is defined as the possibility that a contributing area value may be underestimated
due to grid cells outside of the domain not being counted.&nbsp; This occurs
when drainage is inwards from the boundaries or areas with no data values
for elevation.&nbsp; The algorithm recognizes this and reports no data
for the contributing area.&nbsp; It is common to see streaks of no data
values extending inwards from boundaries along flow paths that enter the
domain at a boundary.&nbsp; This is the desired effect and indicates that
contributing area for these grid cells is unknown due to it being dependent
on terrain outside of the domain of data available.&nbsp; Edge contamination
checking may be overridden in cases where you know this is not an issue
or want to ignore these problems, if for example the DEM has been clipped
along a watershed outline.
<h4>

<hr WIDTH="100%">Grid Network Order and Flow Path Lengths</h4>
Input:
<ul>
<li>
D8 Flow Direction grid (p).</li>

<li>
[Raster grid and threshold value.]</li>

<li>
[Outlets shapefile.]</li>
</ul>
Output:
<ul>
<li>
Strahler Network order grid (gord)</li>

<li>
Longest Upslope Length grid (plen).</li>

<li>
Total Upslope Length grid (tlen).</li>
</ul>
Method:&nbsp; The D8 flow direction grid defines a grid network that extends
to each grid cell.&nbsp; This function orders this network according to
the Strahler ordering system.&nbsp; Cells that don't have any other grid
cells draining in to them are order 1.&nbsp; When two (or more) flow paths
of different order join the order of the downstream flow path is the order
of the highest incoming flow path.&nbsp; When two (or more) flow paths
of equal order join the downstream flow path is increased by 1.&nbsp; Algorithmically
this is implemented as:
<br>Order = Max(Highest incoming flow path order, Second highest incoming
flow path order + 1).&nbsp; This generalizes the common definition to cases
where more than two flow paths join at a point.
<p>The longest upslope length is the length of the flow path from the furthest
cell that drains to each cell.&nbsp;&nbsp;&nbsp; The total upslope path
length is the length of the entire grid network upslope of each grid cell.&nbsp;
Lengths are measured between cell centers taking into account cell size
and whether the direction is adjacent or diagonal.
<p>Where the optional raster grid and threshold value are input, the function
is evaluated only considering grid cells that lie in the domain with raster
grid value greater than or equal to the threshold value.&nbsp; Source (first
order) grid cells are taken as those that do not have any other grid cells
from inside the domain draining in to them, and only when two of these
flow paths join is order propagated according to the ordering rules.&nbsp;
Lengths are also only evaluated counting paths within the domain greater
than or equal to the threshold.
<h4>

<hr WIDTH="100%">River Network Raster Function</h4>
This function is invoked by both the "Full River Network Raster" menu item
under "Basic Grid Analysis" and "River Network Raster Upstream of Outlets"
menu item inder "Network Delineation"
<br>Input:
<ul>
<li>
Pit Filled Elevation grid (fel).</li>

<li>
D8 Flow Direction grid (p).</li>

<li>
D8 Contributing Area grid (ad8).</li>

<li>
Dinf Slope Grid (slp).</li>

<li>
Dinf Contributing Area grid (sca).</li>

<li>
Network Order grid (gord)</li>

<li>
Longest Upslope Length grid (plen)</li>

<li>
Verified Flow Path grid (fdrn)</li>

<li>
Outlets Shapefile</li>
</ul>
Output:
<ul>
<li>
Stream Raster Grid (src)</li>
</ul>
Methods:&nbsp; The output is a grid indicating streams, by the grid cell
value 1 on streams and 0 off streams. Six stream delineation methods are
provided each with their own parameters that may be adjusted on the interface.&nbsp;
These methods are:
<ul>
<li>
Use existing streams.&nbsp; To use this method existing streams need to
have been "burned in" by using an enforced flow path grid (fdr) with "Fill
Pits" and "D8 Flow Directions" functions. The stream network raster is
then defined from these flow directions.&nbsp; No parameters are required.</li>

<li>
DEM curvature based.&nbsp; The DEM is first smoothed by a kernel with the
weights at the center, sides and diagonals as specified.&nbsp; The Peuker
and Douglas (1975) method (also explained in Band, 1986) is then used to
identify upwards curved grid cells.&nbsp; This method flags the entire
grid, then examines in a single pass each quadrant of 4 grid cells and
unflags the highest.&nbsp; The remaining flagged cells are deemed "upwards
curved" and if viewed resemble a channel network, although sometimes lacking
connectivity, or requiring thinning, issues that were discussed in detail
by Band (1986).&nbsp; The thinning and connecting of these grid cells is
achieved here by computing the contributing area using only these upwards
curved cells.&nbsp; An accumulation threshold on the number of these cells
is used to map the channel network.</li>

<li>
Contributing area threshold.&nbsp;&nbsp; A threshold on the contributing
area (in number of cells) computed by the D8 (suffix ad8) method is used
to delineate streams.</li>

<li>
Grid order threshold.&nbsp; A threshold on the network order grid (suffix
gord) is used to delineate streams.&nbsp; This is the network pruning by
order approach suggested by Peckham (1995) and used in <a href="http://www.rsinc.com/rivertools/index.cfm">RiverTools</a>.</li>

<li>
Area and slope threshold.&nbsp; A threshold is applied to the product A
S<sup>y</sup> with the threshold and exponent specified.&nbsp; A is the
Dinf specific catchment area (suffix sca) and S is the Dinf slope (suffix
slp).&nbsp; This method was suggested by Montgomery and Dietrich (1992).&nbsp;
(They used the exponent y = 2 and threshold C = 200 m in their study).</li>

<li>
Area and length threshold.&nbsp; This is an experimental method that might
be justified by searching for a departure from Hack's law.&nbsp; Streams
are mapped as initiating when A > M L<sup>y</sup> .&nbsp; Here A is the
D8 contributing area (suffix ad8) and L the longest upstream flowpath (suffix
plen).&nbsp; In branching systems, Hack's law suggests that L = 1/M A<sup>1/y</sup>
with 1/y = 0.6 (or 0.56) (y about 1.7).&nbsp; In parallel flow systems
L is proportional to A (y about 1).&nbsp; This method tries to identify
the transition by using an exponent y somewhere inbetween (y about 1.3)</li>
</ul>
If drop analysis is checked, then the threshold is searched between the
lowest and highest values given, using the number of steps given on a log
scale.&nbsp; For the science behind the drop analysis see Tarboton et al.
(1991, 1992), Tarboton and Ames (2001).&nbsp; The smallest threshold in
the set searched with absolute value of the t statistic less than 2 is
selected.&nbsp; This is done automatically during the River Network Raster
(Upstream of Outlets) step.&nbsp; The threshold selected is saved in the
threshold variable so may be inspected afterwards by viewing the function
interface following completion.&nbsp; Drop analysis is only possible when
outlets have been specified, because if an entire grid domain is analyzed,
as the threshold varies, shorter streams draining off the edge may not
meeth the threshold criterion and be excluded from the analysis.&nbsp;
This makes defining drainage density difficult and it is somewhat inconsistent
to compare statistics evaluated over differing domains.
<h4>

<hr WIDTH="100%">Stream Order Grid and Network Function</h4>
Input:
<ul>
<li>
Pit Filled Elevation grid (fel).</li>

<li>
D8 Flow Direction grid (p).</li>

<li>
D8 Contributing Area grid (ad8).</li>

<li>
Stream Raster Grid (src).</li>

<li>
Outlets Shapefile.</li>
</ul>
Output:
<ul>
<li>
Network Order grid (ord).</li>

<li>
Network Tree (tree).</li>

<li>
Network Coordinates (coord).</li>
</ul>
Method:&nbsp; This function produces a vector network from the Stream Raster
grid by tracing down from each source grid cell.&nbsp; The network topological
connectivity is stored in the Stream Network Tree file, and coordinates
and attributes from each grid cell along the network in the Stream Network
Coordinates file.&nbsp; The Stream Raster grid is used as the source for
the stream network, with Flow Direction Grid used to facilitate tracing
down the flow paths.&nbsp; Elevations and Contributing Area are used to
determine the Coordinate elevation and contributing area attributes.&nbsp;
Points in the Outlets Shapefile are used to logically split stream reaches
to facilitate representing watersheds upstream and downstream of monitoring
points.&nbsp; The program has an option to trace downslope from outlet
points until the stream reach network is first encountered to accommodate
situations where gage locations are not accurately registered with respect
to the stream network.&nbsp; The program looks for an attribute field "id"
in the Outlets Shapefile and if found uses the numbers therein as identifiers
in the Tree file.
<h4>

<hr WIDTH="100%">Stream Shapefile and Watershed Grid Function</h4>
Input:
<ul>
<li>
D8 Flow Direction grid (p).</li>

<li>
Network Tree (tree).</li>

<li>
Network Coordinates (coord).</li>
</ul>
Output:
<ul>
<li>
Stream Reach Shapefile (net.shp).</li>

<li>
Watershed Grid (w).</li>
</ul>
Method:&nbsp; This function translates the text file vector network representation
in the Network Tree and Coordinates files into a Shape file.&nbsp; Further
attributed are also evaluated.&nbsp; The subwatershed draining to each
stream segment (reach) is delineated and an labeled with the value identifier
that corresponds to WSNO in the Stream Shape File.&nbsp; The program has
an option to delineate a single watershed comprising the entire area draining
to the Stream Network.
<h4>

<hr WIDTH="100%">Watershed Grid to Shapefile Function</h4>
Input:
<ul>
<li>
D8 Flow Direction grid (p).</li>

<li>
Watershed Grid (w).</li>
</ul>
Output:
<ul>
<li>
Watershed Shapefile (w.shp).</li>
</ul>
Method:&nbsp; This function translates the grid watershed representation
into a polygon shapefile.&nbsp; The Flow Direction grid is used to resolve
ambiguities and prevent slivers of missing area between watersheds.&nbsp;
Each shape in the Watershed Shapefile is assigned an identifier the same
as the value identifier in the grid from which it was created, that in
turn maps back to WSNO in the Stream Shape File.
<h4>

<hr WIDTH="100%">Drop Analysis Function</h4>
The "Drop Analysis" command does not have any formal input parameters.&nbsp;
Rather it takes its parameters from those set by the River Network Raster
function.&nbsp; The following is displayed:
<br><img SRC="dropan.gif" height=337 width=865>
<br>The columns are:
<ul>
<li>
The threshold used in the network delineation algorithm.</li>

<li>
The drainage density (inverse length units - typically m) of the resulting
network.</li>

<li>
Number of first order streams (Strahler ordering) in network with specified
threshold.</li>

<li>
Number of higher order streams (Sequential segments of the same order are
counted as one Strahler stream) in network with specified threshold.</li>

<li>
Mean drop (elevation difference between start and end) of first order streams.</li>

<li>
Mean drop of higher order streams.</li>

<li>
Standard deviation of first order stream drops.</li>

<li>
Standard deviation of higher order stream drops.</li>

<li>
Students t statistic for the difference between the first order and higher
order mean stream drops.</li>

<br><img SRC="teqn.gif" height=85 width=266></ul>
The procedure suggested in Tarboton et al. (1991, 1992) and Tarboton and
Ames (2001) is to select the smallest threshold for which the absolute
value of the t statistic is less than 2.&nbsp; This selects the highest
resolution network consistent with the "constant drop law".&nbsp; In the
display above the threshold of 14 would be selected.&nbsp; It is worthwhile
to view the drop analysis because the threshold steps are sometimes quite
coarse, so the user may want to use the River Network Raster function to
change the number of intervals and lowest and highest values used in the
search.&nbsp; Also it can occur that a large threshold is "correct" but
a small threshold results in second or higher order streams also extending
into the region that should not be streams.&nbsp; If these dominate the
sample the following sequence of t statistics might result:
<br>&lt;2, &lt;2, &lt;2, >2, >2, &lt;2, &lt;2, ...
<br>The automatic procedure in these cases would pick the lowest threshold,
but it is probably better (and this is admittedly subjective, unfortunately)
to pick the 6th threshold.&nbsp; In making this judgement I feel that it
is best to consider many things, like sample sizes (is the t statistic
robust), the visual impression in comparison to contour crenulations, and
the drainage density that would result from a Slope versus Area plot as
discussed in Tarboton et al., (1991, 1992).&nbsp; The automated procedure
is therefore not foolproof and some degree of judgement and subjectivity
is required.
<h4>

<hr WIDTH="100%">Slope/Area (Wetness Index) function</h4>
Input:
<ul>
<li>
Dinf Slope grid (slp).</li>

<li>
DInf Specific Catchment Area grid (sca).</li>
</ul>
Output:
<ul>
<li>
Wetness Index grid (atanb).</li>
</ul>
Method:&nbsp; This function takes the ratio Slope/(Specific Catchment area).&nbsp;
This is algebraically related to the more common ln(a/tan beta) wetness
index, but contributing area is in the denominator to avoid divide by 0
errors when slope is 0.
<h4>

<hr WIDTH="100%">Flow Distance to Streams function</h4>
Input:
<ul>
<li>
D8 Flow Directions grid (p).</li>

<li>
Stream Raster grid (src).</li>
</ul>
Output:
<ul>
<li>
Distance to Stream grid (dist).</li>
</ul>
Method:&nbsp; This function computes the distance from each grid cell moving
downstream until a stream grid cell as defined by the Stream Raster grid
is encountered.
<h4>

<hr WIDTH="100%">Downslope Influence function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Disturbance grid (dg).</li>
</ul>
Output:
<ul>
<li>
Downslope Influence grid (di).</li>
</ul>
Method:&nbsp; The Downslope Influence function (or influence zone) of a
set y within the domain is
<br>I(x;y) = A[i(x;y)]
<br>where A[] is the weighted accumulation operator evaluated using the
Dinf Contributing Area function.&nbsp; I(x;y) says what the contribution
from the set of points y is at each point x in the map.&nbsp; i(x;y) is
an indicator (1,0) function on the set y and I is evaluated using the weighted
contributing area function only on points in the set y.&nbsp; The disturbance
grid is used to encode the indicator function and must be 1 inside the
zone y and 0 over the rest of the domain.
<br><img SRC="influence.gif" height=372 width=803>
<br>This may be useful for example to track where sediment or contaminant
moves.
<h4>

<hr WIDTH="100%">Upslope Dependence function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Disturbance grid (dg).</li>
</ul>
Output:
<ul>
<li>
Upslope Dependence grid (dep).</li>
</ul>
Method:&nbsp; This function quantifies the amount a point x contributes
to the point or zone y.&nbsp;&nbsp; It is the inverse of the downslope
influence function
<br>&nbsp;D(x;y) = I(y;x)
<br><img SRC="dependence.gif" height=495 width=800>
<br>This is useful for example to track where a contaminant may come from.
<h4>

<hr WIDTH="100%">Decaying Accumulation function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Decay Multiplier grid.</li>

<li>
[Weight grid].</li>

<li>
[Outlets Shapefile]</li>
</ul>
Output:
<ul>
<li>
Decayed Specific Catchment Area grid (dsca).</li>
</ul>
Method:&nbsp; A decayed accumulation operator DA[.] takes as input a mass
loading field m(x) expressed at each grid location as m(i, j) that is assumed
to move with the flow field but is subject to first order decay in moving
from cell to cell.&nbsp; The output is the accumulated mass at each location
DA(x).&nbsp; The accumulation of m at each grid cell can be numerically
evaluated.
<br><img SRC="decayeqn.gif" height=89 width=776>
<br>Here d(x) = d(i ,j) is a decay multiplier giving the fractional (first
order) reduction in mass in moving from grid cell x to the next downslope
cell.&nbsp; If travel (or residence) times t(x) associated with flow between
cells are available d(x) may be evaluated as exp(-<font face="Symbol">l</font>t(x))&nbsp;
where <font face="Symbol">l</font> is a first order decay parameter.&nbsp;
The weight grid is used to represent the mass loading m(x).&nbsp; If not
specified this is taken as 1.&nbsp; If the outlets shapefile is used the
function is only evaluated on that part of the domain that contributes
flow to the locations given by the shapefile.
<br><img SRC="decay.gif" height=594 width=569>
<br>Useful for a tracking contaminant or compound subject to decay or attenuation.
<h4>

<hr WIDTH="100%">Concentration Limited Accumulation function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Weight grid</li>

<li>
Decay Multiplier grid.</li>

<li>
Indicator grid (dg).</li>

<li>
Concentration threshold</li>

<li>
[Outlets Shapefile]</li>
</ul>
Output:
<ul>
<li>
Concentration grid (cla).</li>

<li>
Weighted accumulation grid (q).</li>
</ul>
Method:&nbsp; This function applies to the situation where an unlimited
supply of a substance is loaded into flow at a concentration or solubility
threshold C<sub>sol</sub> over a set of points y.&nbsp; The indicator grid
(dg) is used to delineate the area of the substance supply denoted using
the (0,1) indicator function i(x;y).&nbsp; A[] denotes the weighted accumulation
operator evaluated using the Dinf Contributing Area function. The weight
grid gives the loading for the supply to the flow (e.g. the excess rainfall
if this is overland flow) denoted as w(x).&nbsp; The specific discharge
is then given by
<br>&nbsp;&nbsp;&nbsp; Q(x)=A[w(x)]
<br>Over the substance supply area concentration is at the threshold (the
threshold is a saturation or solubility limit).
<br>If i(x; y) = 1
<br>&nbsp;&nbsp;&nbsp; C(x) = C<sub>sol</sub>
<br>&nbsp;&nbsp;&nbsp; L(x) = C<sub>sol</sub> Q(x)
<br>Where L(x) denotes the load being carried by the flow.
<br>At remaining locations the load is determined by load accumulation
and the concentration by dilution
<br><img SRC="claeqn.gif" height=106 width=534>
<p>Here d(x) = d(i ,j) is a decay multiplier giving the fractional (first
order) reduction in mass in moving from grid cell x to the next downslope
cell.&nbsp; If travel (or residence) times t(x) associated with flow between
cells are available d(x) may be evaluated as exp(-<font face="Symbol">l</font>t(x))&nbsp;
where <font face="Symbol">l</font> is a first order decay parameter.&nbsp;
The Concentration grid output is C(x).&nbsp; The weighted accumulation
grid output is Q(x).&nbsp; If the outlets shapefile is used the function
is only evaluated on that part of the domain that contributes flow to the
locations given by the shapefile.
<br><img SRC="clafig.gif" height=637 width=612>
<br>Useful for a tracking a contaminant released or partitioned to flow
at a fixed threshold concentration.
<h4>

<hr WIDTH="100%">Transport Limited Accumulation function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Supply grid (sup).</li>

<li>
Transport Capacity grid (tc).</li>

<li>
[Concentration in supply grid (cs).]</li>

<li>
[Outlets Shapefile]</li>
</ul>
Output:
<ul>
<li>
Transport Limited Accumulation grid (tla).</li>

<li>
Deposition grid (tdep).</li>

<li>
[Concentration grid (ctpt).]</li>
</ul>
Method:&nbsp; This function applies to the situation where there is a supply
of substance (e.g. erosion) and capacity for transport of the substance
(e.g. sediment transport capacity).&nbsp;&nbsp; This function accumulates
the substance flux subject to the rule that the transport out of any grid
cell is the minimum of the transport in to that grid cell and the transport
capacity.&nbsp; There is then deposition in the amount of the difference.
<br><img SRC="tlaeqn.gif" height=119 width=323>
<br>Here E is the supply (sup) and T<sub>cap</sub> the transport capacity
(tc).&nbsp; T<sub>out</sub> at each grid cell becomes T<sub>in </sub>for
downslope grid cells and is reported as Transport limited accumulation
(tla).&nbsp; D is deposition (tdep).&nbsp; The function provides the option
to evaluate concentration of a compound (contaminant) adhered to the transported
substance.&nbsp; This is evaluated as follows
<br><img SRC="tlaceqn1.gif" height=66 width=191>
<br>Where L<sub>in</sub> is the total incoming compound loading and C<sub>in</sub>
and T<sub>in</sub> refer to the Concentration and Transport entering from
each upslope grid cell.
<br>If&nbsp;<img SRC="tlaceqn2.gif" height=57 width=140 align=ABSCENTER>
then there is no erosion from the cell, so
<br><img SRC="tlaceqn3.gif" height=57 width=274>
<br>else
<br><img SRC="tlaceqn4.gif" height=49 width=338>
<br>where C<sub>s</sub> is the concentration supplied locally and the difference
in the second term on the right represents the additional supply from the
local grid cell.&nbsp; Then
<br><img SRC="tlaceqn5.gif" height=47 width=198>
<br>C<sub>out</sub> at each grid cell comprises is the concentration grid
output from this function.&nbsp; If the outlets shapefile is used the function
is only evaluated on that part of the domain that contributes flow to the
locations given by the shapefile.&nbsp; Transport limited accumulation
is useful for modeling erosion and sediment delivery, including the spatial
dependence of sediment delivery ratio and contaminant that adheres to sediment.
<h4>

<hr WIDTH="100%">Reverse Accumulation function</h4>
Input:
<ul>
<li>
Dinf Flow Direction grid (ang).</li>

<li>
Weight grid.</li>

<li>
Weight threshold</li>
</ul>
Output:
<ul>
<li>
Reverse Accumulation grid (racc).</li>

<li>
Maximum Downslope grid (dmax).</li>
</ul>
Method:&nbsp; This works in a similar way to evaluation of weighted Contributing
area, except that the accumulation is by propagating the weight loadings
upslope along the reverse of the flow directions to accumulate the quantity
of weight loading downslope from each grid cell.&nbsp; The function accumulates
loading from the weight grid in excess of a weight threshold.&nbsp; The
function also reports the maximum value of the weight loading downslope
from each grid cell in the Maximum Downslope grid.
<br><img SRC="raccfig.gif" height=522 width=839>
<br>This function is designed to evaluate and map the hazard due to activities
that may have an effect downslope.&nbsp; The example is land management
activities that increase runoff.&nbsp; Runoff is sometimes a trigger for
landslides or debris flows, so the weight grid here could be taken as a
terrain stability map.&nbsp; Then the reverse accumulation provides a measure
of the amount of unstable terrain downslope from each grid cell, as an
indicator of the danger of activities that may increase runoff, even though
there may be no potential for any local impact.
<p>
<hr WIDTH="100%">
<h3>
<a NAME="dataformats"></a>Data formats and file naming conventions</h3>

<h4>
Grid file formats</h4>
The programs are written to access following grid file formats.
<ul>
<li>
ESRI proprietary grid format.&nbsp; The file is a "folder" on the computer
comprising multiple parts.</li>

<li>
ASCII format.&nbsp; A file with extension .asc.</li>

<li>
Binary grid format.&nbsp; A file with extension .bgd.</li>
</ul>
The ASCII grid format is that used by ESRI for export of files from ArcView
and Arc/Info and comprises lines of header data followed by lists of cell
values. The header data includes the following keywords and values:
<ul>
<li>
ncols - number of columns in the data set.</li>

<li>
nrows - number of rows in the data set.</li>

<li>
xllcenter or xllcorner - x-coordinate of the center or lower-left corner
of the lower-left cell.</li>

<li>
yllcenter or yllcorner - y-coordinate of the center or lower-left corner
of the lower-left cell.</li>

<li>
cellsize - cell size for the data set.</li>

<li>
nodata_value - value in the file assigned to cells whose value is unknown.
This keyword and value is optional. The nodata_value defaults to -9999.</li>
</ul>
For example an ASCII grid file looks like,
<pre>ncols 480
nrows 450
xllcorner 378923
yllcorner 4072345
cellsize 30
nodata_value -32768
43 3 45 7 3 56 2 5 23 65 34 6 32 etc
35 45 65 34 2 6 78 4 38 44 89 3 2 7 etcetc</pre>
The first row of data is at the top of the data set, moving from left to
right. Cell values should be delimited by spaces. No carriage returns are
necessary at the end of each row in the data set. The number of columns
in the header is used to determine when a new row begins. The number of
cell values must be equal to the number of rows times the number of columns.
<p>The ESRI and binary grid file formats are not defined here.&nbsp; They
are only accessed through the grid object that is part of the software.&nbsp;
This uses the gridio application programmers interface to access ESRI binary
grids, and provides a standard interface for accessing all the grids.
<h4>
Grid defintions and naming conventions</h4>
To manage the variety of grid data used by TauDEM, a naming convention
relying on suffixes appended to the body of file names has been developed
to identify the contents of the files used.&nbsp; This convention is not
required, but makes things a lot easier and is used to set up default file
names.&nbsp; Each type of file is associated with a 1-4 character suffix
that is appended to the main part of the file name, before the extension
used by the computer system.&nbsp; If the Base Elevation grid name is "nnnn[.asc]"
then the remaining file names will be "nnnnsss[.asc]" where sss is the
suffix.&nbsp; The table below gives DEM grids used by TauDEM with these
suffixes, and also indicates the functions in which the grids are used,
as input or output.&nbsp; If the file is an ESRI grid, then there will
be no extension (no part in []) because ESRI grids are folders.&nbsp; To
access ESRI grids in a file open dialog in MapWindow TauDEM it is necessary
to open the sta.adf file inside the ESRI grid folder.&nbsp; However do
not be tempted to move these files or folders around using Windows Explorer,
because all the files in the folder, as well as some in an info folder
comprise the grid dataset.&nbsp; There are utilities for moving these files
as part of ArcGIS.
<p>Table of TauDEM grid types
<table BORDER COLS=5 >
<tr>
<td>Name&nbsp;</td>

<td>Suffix&nbsp;</td>

<td>Input to&nbsp;</td>

<td>Output from&nbsp;</td>

<td>Description&nbsp;</td>
</tr>

<tr>
<td>Base Elevation grid&nbsp;</td>

<td>dem&nbsp;</td>

<td>Fill Pits&nbsp;</td>

<td>&nbsp;</td>

<td>Digital elevation model (DEM) grid to serve as the base input for the
terrain analysis and stream delineation.&nbsp;</td>
</tr>

<tr>
<td>Pit Filled Elevation Grid&nbsp;</td>

<td>fel&nbsp;</td>

<td>D8 Flow Directions, Dinf Flow Directions, River Network Raster&nbsp;</td>

<td>Fill Pits&nbsp;</td>

<td>Grid of elevation values with pits filled. This is usually the output
of the "Fill pits" function in which case it is elevations with pits removed.&nbsp;</td>
</tr>

<tr>
<td>Flow Path Grid&nbsp;</td>

<td>fdr&nbsp;</td>

<td>Fill Pits&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving flow directions used to impose existing streams into
the system. This uses the D8 direction encoding, i.e. 1 - East, 2 - North
East, 3 - North, 4 - North West, 5 - West, 6 - South West, 7 - South, 8
- South East. No data values should indicate off stream locations.&nbsp;</td>
</tr>

<tr>
<td>Verified Flow Path Grid&nbsp;</td>

<td>fdrn&nbsp;</td>

<td>D8 Flow Directions, Dinf Flow Directions, River Network Raster&nbsp;</td>

<td>Fill Pits&nbsp;</td>

<td>A grid giving flow directions used to impose existing streams into
the system. This uses the D8 flow direction encoding, i.e. 1 - east, 2
- North east, 3 - North, 4 - North west, 5 - West, 6 - South West, 7 -
South, 8 - South east. No data values indicate off stream locations.&nbsp;</td>
</tr>

<tr>
<td>D8 Flow Direction Grid&nbsp;</td>

<td>p&nbsp;</td>

<td>D8 Contributing Area, Flow Distance to Streams, Grid Network Order
and Flow Path Lengths, Stream Order Grid and Network Files, River Network
Raster, Stream Shapefile and Watershed Grid, Watershed Grid to Shapefile&nbsp;</td>

<td>D8 Flow Direction&nbsp;</td>

<td>A grid giving flow direction by the D8 method. The encoding is 1 -
east, 2 - North east, 3 - North, 4 - North west, 5 - West, 6 - South West,
7 - South, 8 - South east.&nbsp;</td>
</tr>

<tr>
<td>D8 Slope Grid&nbsp;</td>

<td>sd8&nbsp;</td>

<td>&nbsp;</td>

<td>D8 Flow Directions&nbsp;</td>

<td>A grid giving slope in the D8 flow direction. This is measured as drop/distance.&nbsp;</td>
</tr>

<tr>
<td>D-Inf Flow direction Grid&nbsp;</td>

<td>ang&nbsp;</td>

<td>Dinf Contributing Area, Decaying Accumulation, Upslope Depencence,
Downslope Influence, Reverse Accumulation, Concentration Limited Accumulation,
Transport Limited Accumulation&nbsp;</td>

<td>Dinf Flow Directions&nbsp;</td>

<td>A grid giving flow direction by the Dinfinity method. Flow direction
is measured in radians, counter clockwise from east. This is created by
the function "Dinf flow directions".&nbsp;</td>
</tr>

<tr>
<td>D-Inf Slope Grid&nbsp;</td>

<td>slp&nbsp;</td>

<td>Slope/Area (Wetness Indicator), River Network Raster&nbsp;</td>

<td>Dinf Flow Directions&nbsp;</td>

<td>A grid of slope evaluated using the Dinfinity method.</td>
</tr>

<tr>
<td>D8 Contributing Area Grid&nbsp;</td>

<td>ad8&nbsp;</td>

<td>Stream Order Grid and Network Files, River Network Raster&nbsp;</td>

<td>D8 Contributing Area&nbsp;</td>

<td>A grid giving the contributing area evaluated by accumulating the area
or weight loading upslope of each location, measured as a number of pixels
or sum of weight loadings. This is created by the function "D8 contributing
area"&nbsp;</td>
</tr>

<tr>
<td>D-inf Specific Catchment Area Grid&nbsp;</td>

<td>sca&nbsp;</td>

<td>Slope/Area (Wetness indicator), River Network Raster&nbsp;</td>

<td>Dinf Contributing Area&nbsp;</td>

<td>A grid giving the contributing area evaluated by accumulating the area
or weight loading upslope of each location, using the Dinf algorithm.&nbsp;
If weights are not specified this is measured in specific catchment area
units, i.e. area per unit contour width, using grid cell as the unit width
and grid cell size squared as grid cell area. Created by the function "Dinf
contributing area"&nbsp;</td>
</tr>

<tr>
<td>Strahler Network Order Grid&nbsp;</td>

<td>gord&nbsp;</td>

<td>River Network Raster&nbsp;</td>

<td>Grid Network Order and Flow Path Lengths&nbsp;</td>

<td>A grid giving the Strahler stream order for each flow path. Strahler
order is defined as follows. Source streams (or flow paths) are first order.
When two or more flow paths of the same order join the outgoing path has
order one higher. When high order paths flow in to low order paths the
order remains the same.&nbsp;</td>
</tr>

<tr>
<td>Total Upslope Length Grid&nbsp;</td>

<td>tlen&nbsp;</td>

<td>&nbsp;</td>

<td>Grid Network order and Flow Path Lengths&nbsp;</td>

<td>A grid that gives the total length of upslope flow paths terminating
at each grid cell.&nbsp;</td>
</tr>

<tr>
<td>Longest Upslope length Grid&nbsp;</td>

<td>plen&nbsp;</td>

<td>River Network Raster&nbsp;</td>

<td>Grid Network order and Flow Path Lengths&nbsp;</td>

<td>A grid that gives the length of the longest upslope flow path terminating
at each grid cell.&nbsp;</td>
</tr>

<tr>
<td>Stream Raster Grid&nbsp;</td>

<td>src&nbsp;</td>

<td>Stream Order Grid and Network Files, Flow Distance to Streams&nbsp;</td>

<td>River Network Raster&nbsp;</td>

<td>A grid indicating streams, by the grid cell value 1 on streams and
0 off streams. This is created by the function "Full river network raster"
or "River network raster upstream of outlets"&nbsp;</td>
</tr>

<tr>
<td>Network Order Grid&nbsp;</td>

<td>ord&nbsp;</td>

<td>&nbsp;</td>

<td>Stream Order Grid and Network Files&nbsp;</td>

<td>A grid giving the Strahler stream order for each delineated stream
grid cell.&nbsp;</td>
</tr>

<tr>
<td>Watershed Grid&nbsp;</td>

<td>w&nbsp;</td>

<td>Watershed Grid to Shapefile&nbsp;</td>

<td>Stream Shapefile and Watershed Grid&nbsp;</td>

<td>A grid demarcating each reach watershed. This is created by the function
"Stream Shapefile and Watershed Grid"&nbsp;</td>
</tr>

<tr>
<td>Concentration Grid&nbsp;</td>

<td>ctpt&nbsp;</td>

<td>frmSllAccum&nbsp;</td>

<td>Concentration Limited Accumulation, Transport Limited Accumulation&nbsp;</td>

<td>A grid giving the concentration of a compound of interest. This is
created by either of the functions "Concentration Limited Accumulation"
or "Transport Limited Accumulation". In the "Concentration Limited Accumulation"
case this is concentration in the flow. In the "Transport Limited Accumulation"
case it represents the concentration "bound" to the material being transported
(e.g. sediment).&nbsp;</td>
</tr>

<tr>
<td>Concentration in supply grid&nbsp;</td>

<td>cs&nbsp;</td>

<td>Transport Limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving the concentration of a compound of interest in the supply
to the transport limited accumulation function. In the application to erosion,
this grid would give the concentration of say nitrogen in the eroded sediment.&nbsp;</td>
</tr>

<tr>
<td>Decayed Specific Catchment Area Grid&nbsp;</td>

<td>dsca&nbsp;</td>

<td>&nbsp;</td>

<td>Decaying Accumulation&nbsp;</td>

<td>Specific catchment area calculated by accumulating area but using the
decay multipliers. If a weight grid is specified the result is the decayed
accumulation of the weights. Otherwise weights are taken as linear grid
cell size to give a per unit width accumulation.&nbsp;</td>
</tr>

<tr>
<td>Deposition Grid&nbsp;</td>

<td>tdep&nbsp;</td>

<td>&nbsp;</td>

<td>Transport Limited Accumulation&nbsp;</td>

<td>A grid giving the deposition resulting from the transport limited accumulation.
This is the residual from the transport in to each grid cell minus the
transport capacity out of the grid cell.&nbsp;</td>
</tr>

<tr>
<td>Distance to Stream Grid&nbsp;</td>

<td>dist&nbsp;</td>

<td>&nbsp;</td>

<td>Flow Distance to Streams&nbsp;</td>

<td>A grid giving the distance along flow paths defined by D8 flow directions
to the streams in the stream raster grid.&nbsp;</td>
</tr>

<tr>
<td>Disturbance Indicator Grid&nbsp;</td>

<td>dg&nbsp;</td>

<td>Upslope Dependence, Downslope Influence, Concentration Limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>An indicator grid that marks the target domain for various functions
(upslope depencence, downslope influence, concentration limited accumulation).
This should be a grid of ones inside the target domain and 0 outside the
domain. Most functions permit no data outside the target domain. "Downslope
influence" does not, because it is based on a weighted contributing area
evaluation.&nbsp;</td>
</tr>

<tr>
<td>Downslope influence Grid&nbsp;</td>

<td>di&nbsp;</td>

<td>&nbsp;</td>

<td>Downslope Influence&nbsp;</td>

<td>This quantifies the influence of grid cells in the indicator grid on
contributing area at each grid cell. It is evaluated using a weighted accumulation
(without edge contamination turned off).&nbsp;</td>
</tr>

<tr>
<td>Maximum Downslope Grid.&nbsp;</td>

<td>dmax&nbsp;</td>

<td>&nbsp;</td>

<td>Reverse Accumulation&nbsp;</td>

<td>The grid giving the maximum of the weight loading grid downslope from
each grid cell&nbsp;</td>
</tr>

<tr>
<td>Reverse Accmulation Grid&nbsp;</td>

<td>racc&nbsp;</td>

<td>&nbsp;</td>

<td>Reverse Accumulation&nbsp;</td>

<td>The grid giving the result of the "Reverse Accumulation" function.
This works in a similar way to evaluation of weighted Contributing area,
except that the accumulation is by propagating the weight loadings upslope
along the reverse of the flow directions to accumulate the quantity of
loading downslope from each grid cell.&nbsp;</td>
</tr>

<tr>
<td>Supply Grid&nbsp;</td>

<td>tsup&nbsp;</td>

<td>Transport Limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving the supply (loading) of material to a transport limited
accumulation function. In the application to erosion, this grid would give
the erosion detachment, or sediment supplied at each grid cell.&nbsp;</td>
</tr>

<tr>
<td>Tansport Capacity Grid&nbsp;</td>

<td>tc&nbsp;</td>

<td>Transport Limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving the transport capacity at each grid cell for the transport
limited accumulation function. In the application to erosion this grid
would give the transport capacity of the carrying flow.&nbsp;</td>
</tr>

<tr>
<td>Transport Limited Accumulation Grid&nbsp;</td>

<td>tla&nbsp;</td>

<td>&nbsp;</td>

<td>Transport Limited Accumulation&nbsp;</td>

<td>A grid giving the result from the transport limited accumulation. This
grid is the weighted accumulation of supply accumulated respecting the
limitations in transport capacity.&nbsp;</td>
</tr>

<tr>
<td>Upslope Dependence Grid&nbsp;</td>

<td>dep&nbsp;</td>

<td>&nbsp;</td>

<td>Upslope Dependence&nbsp;</td>

<td>This gives at each grid cell the fraction of flow that contributes
to any part of the target disturbance grid. This is created by the function
"Upslope Dependence"&nbsp;</td>
</tr>

<tr>
<td>Weighted Accumulation Grid&nbsp;</td>

<td>q&nbsp;</td>

<td>&nbsp;</td>

<td>Concentration Limited Accumulation&nbsp;</td>

<td>The grid giving the specific discharge of the flow carrying the constituent
being loaded at the concentration threshold specified.&nbsp;</td>
</tr>

<tr>
<td>Wetness Index Grid&nbsp;</td>

<td>atanb&nbsp;</td>

<td>&nbsp;</td>

<td>Slope/Area (Wetness indicator)&nbsp;</td>

<td>A grid giving the ratio: Slope/Contributing Area. This is algebraically
related to the more common ln(a/tan beta) wetness index, but contributing
area is in the denominator to avoid divide by 0 errors when slope is 0.&nbsp;</td>
</tr>

<tr>
<td>Decay Multiplier Grid&nbsp;</td>

<td>&nbsp;</td>

<td>Decaying Accumulation, Concentration limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving the factor by which flow leaving each grid cell is multiplied
before accumulation on downslope grid cells. This may be used to simulate
the movement of an attenuating substance.&nbsp;</td>
</tr>

<tr>
<td>Raster Grid&nbsp;</td>

<td>&nbsp;</td>

<td>Grid Network Order and Flow Path Lengths&nbsp;</td>

<td>&nbsp;</td>

<td>Any raster grid that a threshold can logically be applied to define
a channel network or domain for the function to work within. If a contributing
area grid and threshold is used then the results pertain to the channel
network mapped from contributing area with the given threshold. This grid
does not have to be supplied, in which case the results will pertain to
flow paths originating in each grid cell.&nbsp;</td>
</tr>

<tr>
<td>Weight grid&nbsp;</td>

<td>&nbsp;</td>

<td>Dinf Contributing Area, D8 Contributing Area,Decaying Accumulation,
Eeverse Accumulation, Concentration Limited Accumulation&nbsp;</td>

<td>&nbsp;</td>

<td>A grid giving weights (loadings) to be used in the accumulation.&nbsp;</td>
</tr>
</table>

<h4>
Other file formats</h4>

<h4>
Shape files</h4>
Shape files are open ESRI data format that stores vector data as described
in a <a href="http://gdal.velocet.ca/projects/shapelib/shapefile.pdf">white
paper</a>.&nbsp; Shape files are used to for the following purposes in
TauDEM:
<ul>
<li>
Outlets Shapefile.&nbsp; A point shapefile giving the location of outlets
or internal monitoring points.&nbsp; The attribute "id" may be used to
specify an identifier (e.g. stream flow recorder number) associated with
these monitoring points.&nbsp; The value -1 is reserved to indicate "no
identifier".</li>

<li>
Stream Reach Shapefile.&nbsp; A polyline shapefile giving the links in
a stream network.&nbsp; This is created by&nbsp; the "Stream Shapefile
and Watershed Grid" function and has attributes tabulated below.&nbsp;
The default file suffix for this shapefile is net.shp.</li>

<li>
Watershed Shapefile.&nbsp; A polygon shapefile demarcating each reach watershed.&nbsp;
This is created by the function "Watershed grid to shapefile". The only
attribute of this shapefile is polygon_id, identifier.&nbsp; This corresponds
with the WSNO watershed number in the *net.shp file.&nbsp; The default
file suffix for this shapefile is w.shp.</li>
</ul>
Table of Stream Reach Shapefile Attributes
<table BORDER=3 CELLSPACING=3 CELLPADDING=3 >
<tr>
<td>LINKNO</td>

<td>Link Number.&nbsp; A unique number associated with each link (segmentof
channel between junctions)</td>
</tr>

<tr>
<td>DSLINKNO</td>

<td>Link Number of the downstream link.&nbsp; -1 indicates that this does
not exist.</td>
</tr>

<tr>
<td>USLINKNO1</td>

<td>Link Number of first upstream link</td>
</tr>

<tr>
<td>USLINKNO2</td>

<td>Link Number of second upstream link.</td>
</tr>

<tr>
<td>DSNODEID</td>

<td>Node identifier for node at downstream end of stream reach. This identifier
corresponds to the "id" attribute from the Outlets shapefile used to designate
nodes.</td>
</tr>

<tr>
<td>Order</td>

<td>Strahler Stream Order</td>
</tr>

<tr>
<td>Length</td>

<td>Length of the link</td>
</tr>

<tr>
<td>Magnitude</td>

<td>Shreve Magnitude of the link.&nbsp; This is the total number of sources
upstream</td>
</tr>

<tr>
<td>DS_Cont_Ar</td>

<td>Drainage area at the downstream end of the link. Generally this is
one grid cell upstream of the downstream end because the drainage area
at the downstream end grid cell includes the area of the stream being joined.</td>
</tr>

<tr>
<td>Drop</td>

<td>Drop in elevation from the start to the end of the link</td>
</tr>

<tr>
<td>Slope</td>

<td>Average slope of the link (computed as drop/length)</td>
</tr>

<tr>
<td>Straight_L</td>

<td>Straight line distance from the start to the end of the link</td>
</tr>

<tr>
<td>US_Cont_Ar</td>

<td>Drainage area at the upstream end of the link</td>
</tr>

<tr>
<td>WSNO</td>

<td>Watershed number.&nbsp; Cross reference to the *w.shp and *w grid files
giving the identification number of the watershed draining directly to
the link.</td>
</tr>

<tr>
<td>DOUT_END</td>

<td>Distance to the outlet from the downstream end of the link</td>
</tr>

<tr>
<td>DOUT_START</td>

<td>Distance to the outlet from the upstream end of the link</td>
</tr>

<tr>
<td>DOUT_MID</td>

<td>Distance to the outlet from the midpoint of the link</td>
</tr>
</table>

<h4>
Text files</h4>
Text files are used to store the Stream Network Tree and Stream Network
Coordinate files. giving network topological connectivity and coordinates
and attributes associated with points on the stream network.
<br><u>Stream Network Tree file.</u>
<br>This defines the topological linkage of the stream network.&nbsp; Columns
are as follows:
<ul>
<li>
1 Link Number (Indexed from 0)</li>

<li>
2 Start Point Number In Coord.dat (Indexed from 0)</li>

<li>
3 End Point Number In Coord.dat (Indexed from 0)</li>

<li>
4 Next (Downstream) Link Number (-1 indicates no links downstream, i.e.
a terminal link)</li>

<li>
5&amp;6 Previous (Upstream) Link Numbers.&nbsp; 0 indicates no upstream
links.&nbsp; Because of this choice the first link with link number 0 must
be a terminal link, i.e. not have any links downstream of it.&nbsp; Where
only one of these is 0, it indicates an internal monitoring point where
the reach is logically split, but does not bifurcate.</li>

<li>
7 Strahler Order of Link</li>

<li>
8 Monitoring point identifier at downstream end of link.&nbsp; -1 indicates
downstream end is not a monitoring point.</li>
</ul>
By convention (not required) this file is named nnnntree.dat.&nbsp; The
Tree file is created by the function "Stream order grid and network files".
<p><u>Stream Network Coordinate file.</u>
<br>This defines coordinates and attributes of points along the stream
network.&nbsp; Columns are as follows:
<ul>
<li>
1 X coordinate</li>

<li>
2 Y Coordinate</li>

<li>
3 Distance along channels to the downstream end of a terminal link.</li>

<li>
4 Elevation</li>

<li>
5 Contributing area</li>
</ul>
By convention (not required) this file is named nnnncoord.dat.&nbsp; The
Coordinate file is created by the function "Stream order grid and network
files".
<p>
<hr WIDTH="100%">
<br><a NAME="history"></a>History and command line versions
<br>This is version 2.0, released&nbsp; September 2002.&nbsp; This is a
restructuring of the packaging of TauDEM.&nbsp; Instead of a standalone
executable that had MapWindow inserted as a control, TauDEM has now been
made into a Plugin, that can work with both MapWindow and ArcGIS.&nbsp;
Substantial additional functionality has been added and quite a few bugs
removed.
<p><a href="../taudem1/taudem.html">Link to July 13, 2001 version 1.0a
TauDEM GUI version.</a>&nbsp; I do not recommend using this old version.
<br>Even older command line versions of this software may be accessed at
my web site <a href="http://www.engineering.usu.edu/dtarb/">http://www.engineering.usu.edu/dtarb/</a>
under Software/TARDEM.
<p>
<hr WIDTH="100%">
<br><a NAME="acknowledgements"></a>Acknowledgements:
<p>This software has been developed with support from the following.&nbsp;
This support is greatly appreciated.
<ul>
<li>
Massachusetts Institute of Technology, research assistantship under Rafael
Bras, for my Sc.D. research where this all got started. Some remnants of
the code from this work still remain.</li>

<li>
National Science Foundation grant EAR-9318977 for the development of the
D<font face="Symbol">&yen; </font>approach <a href="#References">(Tarboton,
D. G., 1997)</a>.</li>

<li>
Forest Renewal of British Columbia, for the development of <a href="http://moose.cee.usu.edu/sinmap/sinmap.htm">Terrain
Stability Mapping methodology</a> and Arcview Implementation, in a collaborative
project involving Canadian Forest Products Ltd., Vancouver, British Columbia,
Bob Pack at Terratech Consulting Ltd., British Columbia and Craig Goodwin.</li>

<li>
National Science Foundation grant INT-9724720 and NIWA New Zealand for
the work on <a href="http://www.engineering.usu.edu/cee/faculty/dtarb/agu98dem/" TARGET="_top">methods
for mapping and identification of flow methods from digital elevation data</a>.</li>

<li>
Idaho National Engineering and Environmental Laboratory for work on the
adaptation of these codes for use with the TMDL Toolkit, and integration
of flow with existing channel networks.</li>

<li>
United States Geological Survey and Utah Water Research Laboratory, Source
Water Protection project, for the development of specialized analysis functions
for water quality analysis.</li>

<li>
Bob Pack for the development of the Reverse Accumulation function.</li>
</ul>

<h4>

<hr WIDTH="100%"><a NAME="references"></a>References</h4>
Band, L. E., (1986), "Topographic partition of watersheds with digital
elevation models," Water Resources Research, 22(1): l5-24.
<p>Garbrecht, J. and L. W. Martz, (1997), "The Assignment of Drainage Direction
Over Flat Surfaces in Raster Digital Elevation Models," Journal of Hydrology,
193: 204-213.
<p>Jenson, S. K. and J. O. Domingue, (1988), "Extracting Topographic Structure
from Digital Elevation Data for Geographic Information System Analysis,"
Photogrammetric Engineering and Remote Sensing, 54(11): 1593-1600.
<p>Mark, D. M., (1988), "Network models in geomorphology," Chapter 4 in
Modelling in Geomorphological Systems, Edited by M. G. Anderson, John Wiley.,
p.73-97.
<p>Marks, D., J. Dozier and J. Frew, (1984), "Automated Basin Delineation
From Digital Elevation Data," Geo. Processing, 2: 299-311.
<p>Montgomery, D. R. and W. E. Dietrich, (1992), "Channel Initiation and
the Problem of Landscape Scale," Science, 255: 826-830.
<p>O'Callaghan, J. F. and D. M. Mark, (1984), "The Extraction of Drainage
Networks From Digital Elevation Data," Computer Vision, Graphics and Image
Processing, 28: 328-344.
<p>Peckham, S. D., (1995), "Self-Similarity in the Three-Dimensional Geometry
and Dynamics of Large River Basins," PhD Thesis, Program in Geophysics,
University of Colorado.
<p>Peuker, T. K. and D. H. Douglas, (1975), "Detection of surface-specific
points by local parallel processing of discrete terrain elevation data,"
Comput. Graphics Image Process., 4: 375-387.
<p>Tarboton, D. G., (1989), "The analysis of river basins and channel networks
using digital terrain data," Sc.D. Thesis, M.I.T., Cambridge, MA, (Also
available as Tarboton D. G., R. L. Bras and I. Rodriguez-Iturbe, (Same
title), Technical report no 326, Ralph M. Parsons Laboratory for Water
resources and Hydrodynamics, Department of Civil Engineering, M.I.T., September
1989).
<p>Tarboton, D. G., R. L. Bras and I. Rodriguez-Iturbe, (1991), "On the
Extraction of Channel Networks from Digital Elevation Data," Hydrologic
Processes, 5(1): 81-100.
<p>Tarboton, D. G., R. L. Bras and I. Rodriguez-Iturbe, (1992), "A Physical
Basis for Drainage Density," Geomorphology, 5(1/2): 59-76.
<p><a href="http://www.engineering.usu.edu/dtarb/dinf.pdf">Tarboton, D.
G., (1997), "A New Method for the Determination of Flow Directions and
Contributing Areas in Grid Digital Elevation Models," Water Resources Research,
33(2): 309-319.</a>
<p><a href="http://www.engineering.usu.edu/cee/faculty/dtarb/agu98dem/">Tarboton,
D. G. and U. Shankar, (1998), "The Identification and Mapping of Flow Networks
from Digital Elevation Data," Invited Presentation at AGU Fall Meeting,
San Francisco, December 6 to 10.</a>
<p>Tarboton, D. G. and D. P. Ames, (2001),"Advances in the mapping of flow
networks from digital elevation data," in World Water and Environmental
Resources Congress, Orlando, Florida, May 20-24, ASCE. [<a href="http://www.engineering.usu.edu/dtarb/asce2001.pdf">
PDF (0.5MB)</a>]
<br>&nbsp;
</body>
</html>
